---
title: useBuyDirectListing
slug: /react.usebuydirectlisting
displayed_sidebar: react
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import CodeBlock from "@theme/CodeBlock";

Hook for buying a direct listing on a [Marketplace V3](https://thirdweb.com/thirdweb.eth/MarketplaceV3) smart contract.

If the listing is in a currency that is not native to the chain (e.g. not Ether on Ethereum), the hook will prompt the user
to approve the marketplace contract to spend the currency on their behalf before performing the buy.

```jsx
import { useBuyDirectListing } from "@thirdweb-dev/react";

const { mutateAsync, isLoading, error } = useBuyDirectListing(contract);
```

## Usage

Provide your marketplace contract as the argument.

```jsx
import {
  useBuyDirectListing,
  useContract,
  Web3Button,
} from "@thirdweb-dev/react";
import { ListingType } from "@thirdweb-dev/sdk";

// Your smart contract address
const contractAddress = "{{contract_address}}";

function App() {
  const { contract } = useContract(contractAddress, "marketplace-v3");
  const {
    mutateAsync: buyDirectListing,
    isLoading,
    error,
  } = useBuyDirectListing(contract);

  return (
    <Web3Button
      contractAddress={contractAddress}
      action={() =>
        buyDirectListing({
          listingId: "{{listing_id}}", // ID of the listing to buy
          quantity: "1",
          buyer: "{{wallet_address}}", // Wallet to buy for
        })
      }
    >
      Buy Now
    </Web3Button>
  );
}
```

## Configuration

<details>
  <summary>listingId</summary>
  <div>

### listingId (required)

The ID of the direct listing you want to buy.

```jsx
import {
  useBuyDirectListing,
  useContract,
  Web3Button,
} from "@thirdweb-dev/react";
import { ListingType } from "@thirdweb-dev/sdk";

// Your smart contract address
const contractAddress = "{{contract_address}}";

function App() {
  const { contract } = useContract(contractAddress, "marketplace-v3");
  const {
    mutateAsync: buyDirectListing,
    isLoading,
    error,
  } = useBuyDirectListing(contract);

  return (
    <Web3Button
      contractAddress={contractAddress}
      action={() =>
        buyDirectListing({
          // highlight-start
          listingId: "{{listing_id}}", // ID of the listing to buy
          // highlight-end
          quantity: "1",
          buyer: "{{wallet_address}}", // Wallet to buy for
        })
      }
    >
      Buy Now
    </Web3Button>
  );
}
```

</div>
</details>

<details>
  <summary>quantity</summary>
  <div>

### quantity (required)

The amount of tokens you want to buy from the listing.

Applicable for ERC1155 listings only, should always be `1` for ERC721 listings.

```jsx
import {
  useBuyDirectListing,
  useContract,
  Web3Button,
} from "@thirdweb-dev/react";
import { ListingType } from "@thirdweb-dev/sdk";

// Your smart contract address
const contractAddress = "{{contract_address}}";

function App() {
  const { contract } = useContract(contractAddress, "marketplace-v3");
  const {
    mutateAsync: buyDirectListing,
    isLoading,
    error,
  } = useBuyDirectListing(contract);

  return (
    <Web3Button
      contractAddress={contractAddress}
      action={() =>
        buyDirectListing({
          listingId: "{{listing_id}}",
          // highlight-start
          quantity: "{{buy_amount}}", // Amount to buy
          // highlight-end
          buyer: "{{wallet_address}}", // Wallet to buy for
        })
      }
    >
      Buy Now
    </Web3Button>
  );
}
```

</div>
</details>

<details>
  <summary>buyer</summary>
  <div>

### buyer (required)

Specify a different wallet address to buy the listing for.

```jsx
import {
  useBuyDirectListing,
  useContract,
  Web3Button,
} from "@thirdweb-dev/react";
import { ListingType } from "@thirdweb-dev/sdk";

// Your smart contract address
const contractAddress = "{{contract_address}}";

function App() {
  const { contract } = useContract(contractAddress, "marketplace-3");
  const {
    mutateAsync: buyDirectListing,
    isLoading,
    error,
  } = useBuyDirectListing(contract);

  return (
    <Web3Button
      contractAddress={contractAddress}
      action={() =>
        buyDirectListing({
          listingId: "{{listing_id}}",
          quantity: "{{buy_amount}}", // Amount to buy
          // highlight-next-line
          buyer: "{{wallet_address}}", // Wallet to buy for
        })
      }
    >
      Buy Now
    </Web3Button>
  );
}
```

</div>
</details>
